I tried bulk deleting companies but I am noticing some problems. I received this error:
500: {"message":"update or delete on table \"facilities\" violates foreign key constraint \"ghost_application_ids_facility_id_fkey\" on table \"ghost_application_ids\""}

We need to adjust some logic in order to address some potential issues. What happens to the data when a company is deleted? Technically, that company should no longer be visible under the company list and if another new user registers a company, they should be able to register under the same name. When the company is deleted, it should check whether an application is assigned to the company. If the answer is yes, it shouldn't allow for the company to be deleted unless the applications are deleted. This is the same logic for the facility. If a facility is created and system admin wants to delete the facility, it should not allow the system admin to delete the facility until the applications are deleted. The other question has to do with documents. We reference the user that uploads documents which is likely why deleting a user does not work if there are documents associated with that user for an application. The system should automatically convert the linked users that are deleted so it is simply stored as plain text instead so we still keep the name of the user that was created initially when the files were uploaded. I also noticed that when bulk deleting applications, it does not correctly store the ghost application ID. 

For ghost application ID, as I mentioned before, it simply keeps the IDs that have already been used so that they are not used for another application (unless system admin deletes them from the ghost ID page first). I want you to verify all this stuff and determine the best way to address deletion of users and companies (along with facilities) so that we are able to maintain the data that was used for the intiial application. Maybe it makes sense to store but hide the applications that are deleted (or userrs and companies, etc.) in an archive that is accessible only by System Admin. If applications are deleted, they are archived. If a facility is deleted, the facility is archived along with all applications for thaf facility. If a company is deleted, the facilities and all their corresponding applications are archived as well. When a user is deleted, they are archived. If a user is deleted from archive (same with company or facility or application), any field referencing that user, company, facility or application assigned a DELETED text instead so that the system is still able to operate correctly. 